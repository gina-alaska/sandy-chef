{
  "name": "sandy-base",
  "description": "Sandy Base Role",
  "json_class": "Chef::Role",
  "default_attributes": {
    "chef_client": {
      "server_url": "https://chef.sandy"
    },
    "ntp": {
      "servers": [
        "ntp.alaska.edu",
        "0.pool.ntp.org",
        "1.pool.ntp.org",
        "2.pool.ntp.org",
        "3.pool.ntp.org"
      ]
    },
    "resolver": {
      "search": "gina.alaska.edu x.gina.alaska.edu",
      "nameservers": [
        "137.229.31.16",
        "137.229.30.33",
        "8.8.8.8"
      ]
    },
    "iptables-ng": {
      "rules": {
        "filter": {
          "INPUT": {
            "00-established": {
              "rule": "-m state --state RELATED,ESTABLISHED -j ACCEPT"
            },
            "01-icmp": {
              "rule": "-p icmp -j ACCEPT"
            },
            "01-lo": {
              "rule": "-i lo -j ACCEPT"
            },
            "20-ssh": {
              "rule": "-m state --state NEW -p tcp --dport 22 -m recent --set",
              "ip_version": 4
            },
            "21-ssh": {
              "rule": "-m state --state NEW -p tcp --dport 22 -m recent --update --seconds 60 --hitcount 10 -j DROP",
              "ip_version": 4
            },
            "22-ssh": {
              "rule": "-m state --state NEW -p tcp -s 137.229.19.0/24,10.19.16.0/23,10.0.19.0/24 --dport 22 -j ACCEPT",
              "ip_version": 4
            },
            "99-reject": {
              "rule": "-j REJECT"
            }
          },
          "FORWARD": {
            "99-reject": {
              "rule": "-j REJECT"
            }
          }
        }
      }
    },
    "openssh": {
      "server": {
        "protocol": 2,
        "syslog_facility": "AUTHPRIV",
        "permit_root_login": "no",
        "password_authentication": "yes",
        "g_s_s_a_p_i_authentication": "no",
        "g_s_s_a_p_i_cleanup_credentials": "yes",
        "use_p_a_m": "yes",
        "x11_forwarding": "yes",
        "subsystem": [
          "sftp /usr/libexec/openssh/sftp-server"
        ],
        "accept_env": [
          "LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES",
          "LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT",
          "LC_IDENTIFICATION LC_ALL LANGUAGE",
          "XMODIFIERS"
        ]
      },
      "client": {
        "host": "*",
        "g_s_s_a_p_i_authentication": "no",
        "forward_x11_trusted": "yes",
        "send_env": [
          "LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES",
          "LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT",
          "LC_IDENTIFICATION LC_ALL LANGUAGE",
          "XMODIFIERS"
        ]
      }
    }
  },
  "override_attributes": {
    "users": [ "smacfarl", "jcable" ]
  },
  "chef_type": "role",
  "run_list": [
    "recipe[ntp::default]",
    "recipe[resolver::default]",
    "recipe[iptables-ng::default]",
    "recipe[openssh]",
    "recipe[sandy-sudoers]"
  ],
  "env_run_lists": {
  }
}
